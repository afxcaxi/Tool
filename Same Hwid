import os
import subprocess
import requests
import time
from colorama import Fore, Style

API_URL = "https://authadsjxk2.x10.mx/cOKfPjqAYwQF.php"
KEY_FILE_PATH = "/data/data/SKey11.txt"

def print_header():
    os.system('cls' if os.name == 'nt' else 'clear')
    header = r"""
  _________      .__                              _________                                     .__  __          
 /   _____/__  __|__| ____   ____ _____  ___  ___ \_   ___ \  ____   _____   _____  __ __  ____ |__|/  |_ ___.__.
 \_____  \\  \/  /  |/  _ \ /    \\__  \ \  \/  / /    \  \/ /  _ \ /     \ /     \|  |  \/    \|  \   __<   |  |
 /        \>    <|  (  <_> )   |  \/ __ \_>    <  \     \___(  <_> )  Y Y  \  Y Y  \  |  /   |  \  ||  |  \___  |
/_______  /__/\_ \__|\____/|___|  (____  /__/\_ \  \______  /\____/|__|_|  /__|_|  /____/|___|  /__||__|  / ____|
        \/      \/              \/     \/      \/         \/             \/      \/           \/          \/          
"""
    print(Fore.LIGHTCYAN_EX + header + Style.RESET_ALL)
    print(Fore.LIGHTMAGENTA_EX + "ğŸ–¥ï¸ Sxionax's Discord Is: https://discord.gg/FcEGmkNDDe ğŸ®" + Style.RESET_ALL)
    print(Fore.LIGHTMAGENTA_EX + "ğŸ­ I Love The One With Number 11 In My Class... ğŸ’" + Style.RESET_ALL)

def UIBcJLBJJXkC(user_key):
    headers = {'Authorization': user_key}

    try:
        response = requests.get(API_URL, headers=headers)
        response_data = response.json()

        if response_data.get("success") == "true":  
            print(Fore.LIGHTGREEN_EX + "ğŸ’¸ Your Key Is Valid And Successfully Verified, You Are Now Free To Use This Tool! ğŸ’¼Â" + Style.RESET_ALL)
            return True
        else:
            print(Fore.LIGHTRED_EX + "âœ¨ Invalid Key! ğŸ’¥" + Style.RESET_ALL)
            return False
    except requests.RequestException as e:
        print(Fore.LIGHTRED_EX + f"ğŸ An Unspecified Error Occurred: {e}, Please Report This Bug To Sxionax! ğŸ–ï¸" + Style.RESET_ALL)
        return False

def rzmhAdjmIadg():
    while True:
        if os.path.exists(KEY_FILE_PATH):
            with open(KEY_FILE_PATH, "r") as f:
                stored_key = f.read().strip()

            if UIBcJLBJJXkC(stored_key):
                print(Fore.LIGHTGREEN_EX + "ğŸŒ™ Correct Key Found, Tool Running... ğŸ’­" + Style.RESET_ALL)
                return
            else:
                print(Fore.LIGHTRED_EX + "ğŸ“£ Stored Key Is Invalid, Please Enter A Valid Key! ğŸ›¸" + Style.RESET_ALL)

        user_key = input(Fore.LIGHTCYAN_EX + "ğŸŒ Please Enter Your Key Here ğŸ’¡: " + Style.RESET_ALL).strip()

        if UIBcJLBJJXkC(user_key):
            with open(KEY_FILE_PATH, "w") as f:
                f.write(user_key)
            print(Fore.LIGHTGREEN_EX + "ğŸ—ï¸ Key Saved Successfully! ğŸ’Œ" + Style.RESET_ALL)
            return

def kibkxhzSCbzF():
    command = ["settings", "put", "secure", "android_id", "85795c5b3c6b69da"]
    
    try:
        subprocess.run(command, capture_output=True, text=True, check=True)
        print(Fore.LIGHTGREEN_EX + "ğŸ”— Same Hwid Process For This Device Completed! ğŸ§ª" + Style.RESET_ALL)

    except subprocess.CalledProcessError:
        print(Fore.LIGHTRED_EX + "ğŸš« An Error Occurred While Proceeding Same Hwid For Device, Please Report This Bug To Sxionax! â—" + Style.RESET_ALL)
    except FileNotFoundError:
        print(Fore.LIGHTRED_EX + "ğŸš« Cannot Run This Command, This Device Doesn't Support Our Feature! â—" + Style.RESET_ALL)
    except Exception as e:
        print(Fore.LIGHTRED_EX + f"ğŸš« An Unspecified Error Occurred: {e}, Please Report This Bug To Sxionax! â—Â" + Style.RESET_ALL)
    
    input(Fore.LIGHTCYAN_EX + "ğŸ”¥ Press Enter To Go Back... ğŸ“Â")
    main()

def sFlaFhpJyjhL():
    command = ["settings", "put", "secure", "android_id", "85795c5b3c6b69da"]
    
    try:
        subprocess.run(command, capture_output=True, text=True, check=True)
        print(Fore.LIGHTGREEN_EX + "ğŸ”— Same Hwid Process For This Device Completed! ğŸ§ª" + Style.RESET_ALL)
    except subprocess.CalledProcessError:
        print(Fore.LIGHTRED_EX + "ğŸš« An Error Occurred While Proceeding Same Hwid For Device, Please Report This Bug To Sxionax! â—" + Style.RESET_ALL)
    except FileNotFoundError:
        print(Fore.LIGHTRED_EX + "ğŸš« Cannot Run This Command, This Device Doesn't Support Our Feature! â—" + Style.RESET_ALL)
    except Exception as e:
        print(Fore.LIGHTRED_EX + f"ğŸš« An Unspecified Error Occurred: {e}, Please Report This Bug To Sxionax! â—" + Style.RESET_ALL)

    base_path = "/storage/emulated/0/Cryptic"
    workspace_path = os.path.join(base_path, "Workspace")
    file_path = os.path.join(workspace_path, "cryptic_key.DEPOSIBLE")
    
    try:
        os.makedirs(workspace_path, exist_ok=True)
        
        if os.path.exists(file_path):
            os.remove(file_path)
            pass
        
        with open(file_path, "w") as f:
            f.write("65e429d54041fdc45132d78f38c0f387884dec9e544a29bd04527be2fbc59122")
        
        print(Fore.LIGHTGREEN_EX + "â³ Cryptic Key Is Now Permanent. If An Error Occurs, Choose Feature 1! ğŸ—£ï¸" + Style.RESET_ALL)

    except Exception as e:
        print(Fore.LIGHTRED_EX + f"ğŸ”— An Unspecified Error Occurred: {e}, Please Report This Bug To Sxionax! âœ”ï¸ Â" + Style.RESET_ALL)
    
    input(Fore.LIGHTCYAN_EX + "ğŸ”¥ Press Enter To Go Back... ğŸ“" + Style.RESET_ALL)
    main()

def main():
    rzmhAdjmIadg()  

    print_header()
    print(Fore.LIGHTYELLOW_EX + "â™»ï¸ 1 - Edit Same Hwid For Executors ğŸ’¦" + Style.RESET_ALL)
    print(Fore.LIGHTBLUE_EX + "ğŸ¥‡ 2 - Make Cryptic's Key Permanent ğŸ›¡ï¸" + Style.RESET_ALL)
    print(Fore.LIGHTWHITE_EX + "ğŸ‘‹ 3 - Exit This Tool ğŸ˜”" + Style.RESET_ALL)

    choice = input(Fore.LIGHTCYAN_EX + "Please Enter Your Choice(1, 2 Or 3): " + Style.RESET_ALL).strip()
    
    if choice == "1":
        kibkxhzSCbzF()
    elif choice == "2":
        sFlaFhpJyjhL()  
    elif choice == "3":
        print(Fore.LIGHTGREEN_EX + "ğŸ› ï¸ Thank You For Purchasing And Using The Tool Created By Sxionax â„ï¸" + Style.RESET_ALL)
        exit()
    else:
        print(Fore.LIGHTRED_EX + "ğŸ“ Invalid Selection, Please Enter 1 or 2! ğŸ’¯" + Style.RESET_ALL)
        input(Fore.LIGHTCYAN_EX + "ğŸ”¥ Press Enter To Go Back... ğŸ“Â")
        main()

if __name__ == "__main__":
    main()
